{
  "template_info": {
    "name": "template2_phenotype",
    "type": "phenotype",
    "description": "Gene-based phenotype prediction template",
    "version": "1.0"
  },
  "expected_response": {
    "format": "json",
    "required_fields": [],
    "optional_fields": [
      "gram_staining", "motility", "aerophilicity", "extreme_environment_tolerance",
      "biofilm_formation", "animal_pathogenicity", "biosafety_level", 
      "health_association", "host_association", "plant_pathogenicity",
      "spore_formation", "hemolysis", "cell_shape"
    ]
  },
  "field_definitions": {
    "gram_staining": {
      "type": "string",
      "required": false,
      "description": "Gram staining result",
      "allowed_values": ["gram stain negative", "gram stain positive", "gram stain variable"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "gram stain positive": ["gram stain positive", "gram positive", "gram+", "positive"],
          "gram stain negative": ["gram stain negative", "gram negative", "gram-", "negative"],
          "gram stain variable": ["gram stain variable", "variable"]
        }
      }
    },
    "motility": {
      "type": "string",
      "required": false,
      "description": "Motility capability",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "motile", "positive", "1"],
          "FALSE": ["false", "no", "non-motile", "nonmotile", "immobile", "negative", "0"]
        }
      }
    },
    "aerophilicity": {
      "type": "array",
      "required": false,
      "description": "Oxygen requirements (can have multiple values)",
      "allowed_values": ["aerobic", "aerotolerant", "anaerobic", "facultatively anaerobic"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "aerobic": ["aerobic", "aerobe", "oxygen-requiring"],
          "aerotolerant": ["aerotolerant", "aerotolerance"],
          "anaerobic": ["anaerobic", "anaerobe", "oxygen-free"],
          "facultatively anaerobic": ["facultatively anaerobic", "facultative anaerobic", "facultative", "facultatively"]
        },
        "allow_single_value": true,
        "max_values": 4
      }
    },
    "extreme_environment_tolerance": {
      "type": "string",
      "required": false,
      "description": "Tolerance to extreme environmental conditions",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "tolerant", "positive", "1"],
          "FALSE": ["false", "no", "intolerant", "negative", "0"]
        }
      }
    },
    "biofilm_formation": {
      "type": "string",
      "required": false,
      "description": "Ability to form biofilms",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "biofilm-forming", "positive", "1"],
          "FALSE": ["false", "no", "non-biofilm-forming", "negative", "0"]
        }
      }
    },
    "animal_pathogenicity": {
      "type": "string",
      "required": false,
      "description": "Pathogenic to animals",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "pathogenic", "positive", "1"],
          "FALSE": ["false", "no", "non-pathogenic", "negative", "0"]
        }
      }
    },
    "biosafety_level": {
      "type": "string",
      "required": false,
      "description": "Biosafety classification level",
      "allowed_values": ["biosafety level 1", "biosafety level 2", "biosafety level 3"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "biosafety level 1": ["biosafety level 1", "bsl-1", "bsl1", "level 1"],
          "biosafety level 2": ["biosafety level 2", "bsl-2", "bsl2", "level 2"],
          "biosafety level 3": ["biosafety level 3", "bsl-3", "bsl3", "level 3"]
        }
      }
    },
    "health_association": {
      "type": "string",
      "required": false,
      "description": "Association with human health",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "health-associated", "positive", "1"],
          "FALSE": ["false", "no", "not health-associated", "negative", "0"]
        }
      }
    },
    "host_association": {
      "type": "string",
      "required": false,
      "description": "Association with a host organism",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "host-associated", "positive", "1"],
          "FALSE": ["false", "no", "free-living", "negative", "0"]
        }
      }
    },
    "plant_pathogenicity": {
      "type": "string",
      "required": false,
      "description": "Pathogenic to plants",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "phytopathogenic", "plant pathogenic", "positive", "1"],
          "FALSE": ["false", "no", "non-phytopathogenic", "negative", "0"]
        }
      }
    },
    "spore_formation": {
      "type": "string",
      "required": false,
      "description": "Ability to form spores",
      "allowed_values": ["TRUE", "FALSE"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "TRUE": ["true", "yes", "spore-forming", "sporulating", "positive", "1"],
          "FALSE": ["false", "no", "non-spore-forming", "vegetative", "negative", "0"]
        }
      }
    },
    "hemolysis": {
      "type": "string",
      "required": false,
      "description": "Hemolytic activity",
      "allowed_values": ["alpha", "beta", "gamma", "non-hemolytic"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "alpha": ["alpha", "α", "alpha-hemolytic"],
          "beta": ["beta", "β", "beta-hemolytic"],
          "gamma": ["gamma", "γ", "gamma-hemolytic"],
          "non-hemolytic": ["non-hemolytic", "non", "none", "no hemolysis"]
        }
      }
    },
    "cell_shape": {
      "type": "string",
      "required": false,
      "description": "Cellular morphology",
      "allowed_values": ["bacillus", "coccus", "spirillum", "tail"],
      "validation_rules": {
        "case_sensitive": false,
        "trim_whitespace": true,
        "normalize_mapping": {
          "bacillus": ["bacillus", "rod", "rod-shaped", "bacilli"],
          "coccus": ["coccus", "sphere", "spherical", "cocci"],
          "spirillum": ["spirillum", "spiral", "helical", "spirilla"],
          "tail": ["tail", "appendage", "flagellar"]
        }
      }
    }
  },
  "parsing_instructions": {
    "json_extraction": {
      "method": "regex",
      "pattern": "\\{.*\\}",
      "flags": ["DOTALL"]
    },
    "fallback_parsing": {
      "enabled": true,
      "method": "line_based",
      "keywords": [
        "gram_staining", "motility", "aerophilicity", "extreme_environment_tolerance",
        "biofilm_formation", "animal_pathogenicity", "biosafety_level", 
        "health_association", "host_association", "plant_pathogenicity",
        "spore_formation", "hemolysis", "cell_shape"
      ]
    }
  },
  "success_criteria": {
    "minimum_required_fields": 0,
    "require_all_mandatory": false,
    "allow_extra_fields": true
  },
  "error_handling": {
    "on_parse_failure": "return_null",
    "on_validation_failure": "return_partial",
    "on_missing_required": "return_errors"
  }
} 