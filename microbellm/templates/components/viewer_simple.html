{% extends "admin_base.html" %}

{% block title %}{{ section.id }}{% endblock %}

{% block content %}
<div style="padding: 20px;">
    <h1 style="margin-bottom: 20px;">{{ section.id | replace('_', ' ') | title }}</h1>
    <p style="color: #666; margin-bottom: 30px;">
        <strong>Type:</strong> {{ section.type }} |
        <strong>Page:</strong> {{ page }} |
        {% if section.file %}<strong>File:</strong> {{ section.file }}{% endif %}
    </p>

    <!-- Component Content -->
    <div style="border: 1px solid #ddd; border-radius: 8px; padding: 20px; background: white;">
        {% if section.type == 'section_callout_dynamic' %}
            <section class="section-callout section-callout--{{ manifest.page_config.color_theme or 'purple' }}">
                <div class="section-callout__content">
                    {% if section.title %}
                        <h3 class="section-callout__title">{{ section.title }}</h3>
                    {% endif %}
                    {% if section.text %}
                        <p class="section-callout__text">{{ section.text }}</p>
                    {% endif %}
                    {% include 'research/' + page + '/' + section.file %}
                </div>
            </section>
        {% else %}
            {% include 'research/' + page + '/' + section.file %}
        {% endif %}
    </div>

    <!-- Navigation -->
    <div style="margin-top: 20px; text-align: center;">
        <a href="{{ url_for('components_index') }}" style="color: #666; text-decoration: none; margin-right: 20px;">← Back to Components</a>
        <a href="/{{ page }}" style="color: #666; text-decoration: none;">View Full Page →</a>
    </div>
</div>

{% if section.type in ['section_callout_dynamic'] %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(function() {
        if (typeof initModelAccuracy === 'function' && '{{ section.id }}' === 'model_accuracy') {
            initModelAccuracy();
        }
    }, 500);
});
</script>
{% endif %}
{% endblock %}